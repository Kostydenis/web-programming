<!DOCTYPE html>
<html>
<head>
<title>views.py</title>
<link rel="stylesheet" type="text/css" href="highlight.css">
</head>
<body class="hl">
<pre class="hl"><span class="hl lin">   1 </span>
<span class="hl lin">   2 </span><span class="hl kwa">from</span> flask <span class="hl kwa">import</span> render_template
<span class="hl lin">   3 </span><span class="hl kwa">from</span> flask <span class="hl kwa">import</span> send_file
<span class="hl lin">   4 </span><span class="hl kwa">from</span> app <span class="hl kwa">import</span> app
<span class="hl lin">   5 </span><span class="hl slc"># import disciplines</span>
<span class="hl lin">   6 </span>
<span class="hl lin">   7 </span><span class="hl kwa">class</span> Discipline<span class="hl opt">:</span>
<span class="hl lin">   8 </span>    <span class="hl kwa">def</span> <span class="hl kwd">__init__</span><span class="hl opt">(</span>self<span class="hl opt">,</span> code<span class="hl opt">,</span> name<span class="hl opt">,</span> pdf<span class="hl opt">):</span>
<span class="hl lin">   9 </span>        self<span class="hl opt">.</span>code <span class="hl opt">=</span> code
<span class="hl lin">  10 </span>        self<span class="hl opt">.</span>name <span class="hl opt">=</span> name
<span class="hl lin">  11 </span>        self<span class="hl opt">.</span>pdf <span class="hl opt">=</span> pdf
<span class="hl lin">  12 </span>
<span class="hl lin">  13 </span>web <span class="hl opt">=</span> <span class="hl kwd">Discipline</span><span class="hl opt">(</span><span class="hl str">'web'</span><span class="hl opt">,</span> <span class="hl str">'Веб-программирование'</span><span class="hl opt">,</span> <span class="hl str">'webPDF'</span><span class="hl opt">)</span>
<span class="hl lin">  14 </span>ics <span class="hl opt">=</span> <span class="hl kwd">Discipline</span><span class="hl opt">(</span><span class="hl str">'ics'</span><span class="hl opt">,</span> <span class="hl str">'Проектирование АСОИУ'</span><span class="hl opt">,</span> <span class="hl str">'icsPDF'</span><span class="hl opt">)</span>
<span class="hl lin">  15 </span>electr <span class="hl opt">=</span> <span class="hl kwd">Discipline</span><span class="hl opt">(</span><span class="hl str">'electr'</span><span class="hl opt">,</span> <span class="hl str">'Схемотехника'</span><span class="hl opt">,</span> <span class="hl str">'electrPDF'</span><span class="hl opt">)</span>
<span class="hl lin">  16 </span>
<span class="hl lin">  17 </span>discipline_list <span class="hl opt">= [</span>web<span class="hl opt">,</span> ics<span class="hl opt">,</span> electr<span class="hl opt">]</span>
<span class="hl lin">  18 </span>
<span class="hl lin">  19 </span><span class="hl kwb">&#64;app</span><span class="hl opt">.</span><span class="hl kwd">route</span><span class="hl opt">(</span><span class="hl str">'/'</span><span class="hl opt">)</span>
<span class="hl lin">  20 </span><span class="hl kwb">&#64;app</span><span class="hl opt">.</span><span class="hl kwd">route</span><span class="hl opt">(</span><span class="hl str">'/index'</span><span class="hl opt">)</span>
<span class="hl lin">  21 </span><span class="hl kwa">def</span> <span class="hl kwd">index</span><span class="hl opt">():</span>
<span class="hl lin">  22 </span>    <span class="hl kwa">return</span> <span class="hl kwd">render_template</span><span class="hl opt">(</span><span class="hl str">'index.html'</span><span class="hl opt">,</span> discipline_list <span class="hl opt">=</span> discipline_list<span class="hl opt">)</span>
<span class="hl lin">  23 </span>
<span class="hl lin">  24 </span><span class="hl kwb">&#64;app</span><span class="hl opt">.</span><span class="hl kwd">route</span><span class="hl opt">(</span><span class="hl str">'/about'</span><span class="hl opt">)</span>
<span class="hl lin">  25 </span><span class="hl kwa">def</span> <span class="hl kwd">about</span><span class="hl opt">():</span>
<span class="hl lin">  26 </span>	<span class="hl kwa">return</span> <span class="hl kwd">render_template</span><span class="hl opt">(</span><span class="hl str">'about.html'</span><span class="hl opt">,</span> discipline_list <span class="hl opt">=</span> discipline_list<span class="hl opt">)</span>
<span class="hl lin">  27 </span>
<span class="hl lin">  28 </span><span class="hl kwb">&#64;app</span><span class="hl opt">.</span><span class="hl kwd">route</span><span class="hl opt">(</span><span class="hl str">'/web'</span><span class="hl opt">)</span>
<span class="hl lin">  29 </span><span class="hl kwa">def</span> <span class="hl kwd">web</span><span class="hl opt">():</span>
<span class="hl lin">  30 </span>	<span class="hl kwa">return</span> <span class="hl kwd">render_template</span><span class="hl opt">(</span><span class="hl str">'/web/index.html'</span><span class="hl opt">,</span> discipline_list <span class="hl opt">=</span> discipline_list<span class="hl opt">)</span>
<span class="hl lin">  31 </span>
<span class="hl lin">  32 </span><span class="hl kwb">&#64;app</span><span class="hl opt">.</span><span class="hl kwd">route</span><span class="hl opt">(</span><span class="hl str">'/webPDF'</span><span class="hl opt">)</span>
<span class="hl lin">  33 </span><span class="hl kwa">def</span> <span class="hl kwd">webPDF</span><span class="hl opt">():</span>
<span class="hl lin">  34 </span>	<span class="hl kwa">return</span> <span class="hl kwd">send_file</span><span class="hl opt">(</span><span class="hl str">'static/pdfs/web.pdf'</span><span class="hl opt">,</span> as_attachment<span class="hl opt">=</span><span class="hl kwa">True</span><span class="hl opt">)</span>
<span class="hl lin">  35 </span>
<span class="hl lin">  36 </span><span class="hl kwb">&#64;app</span><span class="hl opt">.</span><span class="hl kwd">route</span><span class="hl opt">(</span><span class="hl str">'/ics'</span><span class="hl opt">)</span>
<span class="hl lin">  37 </span><span class="hl kwa">def</span> <span class="hl kwd">ics</span><span class="hl opt">():</span>
<span class="hl lin">  38 </span>	<span class="hl kwa">return</span> <span class="hl kwd">render_template</span><span class="hl opt">(</span><span class="hl str">'/ics/index.html'</span><span class="hl opt">,</span> discipline_list <span class="hl opt">=</span> discipline_list<span class="hl opt">)</span>
<span class="hl lin">  39 </span>
<span class="hl lin">  40 </span><span class="hl kwb">&#64;app</span><span class="hl opt">.</span><span class="hl kwd">route</span><span class="hl opt">(</span><span class="hl str">'/icsPDF'</span><span class="hl opt">)</span>
<span class="hl lin">  41 </span><span class="hl kwa">def</span> <span class="hl kwd">icsPDF</span><span class="hl opt">():</span>
<span class="hl lin">  42 </span>	<span class="hl kwa">return</span> <span class="hl kwd">send_file</span><span class="hl opt">(</span><span class="hl str">'static/pdfs/ics.pdf'</span><span class="hl opt">,</span> as_attachment<span class="hl opt">=</span><span class="hl kwa">True</span><span class="hl opt">)</span>
<span class="hl lin">  43 </span>
<span class="hl lin">  44 </span><span class="hl kwb">&#64;app</span><span class="hl opt">.</span><span class="hl kwd">route</span><span class="hl opt">(</span><span class="hl str">'/electr'</span><span class="hl opt">)</span>
<span class="hl lin">  45 </span><span class="hl kwa">def</span> <span class="hl kwd">electr</span><span class="hl opt">():</span>
<span class="hl lin">  46 </span>	<span class="hl kwa">return</span> <span class="hl kwd">render_template</span><span class="hl opt">(</span><span class="hl str">'electr/index.html'</span><span class="hl opt">,</span> discipline_list <span class="hl opt">=</span> discipline_list<span class="hl opt">)</span>
<span class="hl lin">  47 </span>
<span class="hl lin">  48 </span><span class="hl kwb">&#64;app</span><span class="hl opt">.</span><span class="hl kwd">route</span><span class="hl opt">(</span><span class="hl str">'/electrPDF'</span><span class="hl opt">)</span>
<span class="hl lin">  49 </span><span class="hl kwa">def</span> <span class="hl kwd">electrPDF</span><span class="hl opt">():</span>
<span class="hl lin">  50 </span>	<span class="hl kwa">return</span> <span class="hl kwd">send_file</span><span class="hl opt">(</span><span class="hl str">'static/pdfs/electr.pdf'</span><span class="hl opt">,</span> as_attachment<span class="hl opt">=</span><span class="hl kwa">True</span><span class="hl opt">)</span>
</pre>
</body>
</html>
<!--HTML generated by highlight 3.22, http://www.andre-simon.de/-->
